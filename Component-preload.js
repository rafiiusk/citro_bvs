/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "br/citrosuco/tm/ZUI5_TM_VESSEL/Component-preload",
	"modules": {
		"br/citrosuco/tm/ZUI5_TM_VESSEL/Component.js": "sap.ui.define([\r\n\t\"sap/ui/core/UIComponent\",\r\n\t\"sap/ui/Device\",\r\n\t\"br/citrosuco/tm/ZUI5_TM_VESSEL/model/models\",\r\n\t\"./controller/ErrorHandler\"\r\n], function(UIComponent, Device, models, ErrorHandler) {\r\n\t\"use strict\";\r\n\r\n\treturn UIComponent.extend(\"br.citrosuco.tm.ZUI5_TM_VESSEL.Component\", {\r\n\r\n\t\tmetadata: {\r\n\t\t\tmanifest: \"json\"\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\r\n\t\t * In this function, the device models are set and the router is initialized.\r\n\t\t * @public\r\n\t\t * @override\r\n\t\t */\r\n\t\tinit: function() {\r\n\t\t\t// call the base component's init function\r\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\r\n\r\n\t\t\t// initialize the error handler with the component\r\n\t\t\tthis._oErrorHandler = new ErrorHandler(this);\r\n\r\n\t\t\t// set the device model\r\n\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\r\n\r\n\t\t\t// create the views based on the url/hash\r\n\t\t\t//this.getRouter().initialize();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * The component is destroyed by UI5 automatically.\r\n\t\t * In this method, the ErrorHandler is destroyed.\r\n\t\t * @public\r\n\t\t * @override\r\n\t\t */\r\n\t\tdestroy: function() {\r\n\t\t\tthis._oErrorHandler.destroy();\r\n\t\t\t// call the base component's destroy function\r\n\t\t\tUIComponent.prototype.destroy.apply(this, arguments);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * This method can be called to determine whether the sapUiSizeCompact or sapUiSizeCozy\r\n\t\t * design mode class should be set, which influences the size appearance of some controls.\r\n\t\t * @public\r\n\t\t * @return {string} css class, either 'sapUiSizeCompact' or 'sapUiSizeCozy' - or an empty string if no css class should be set\r\n\t\t */\r\n\t\tgetContentDensityClass: function() {\r\n\t\t\tif (this._sContentDensityClass === undefined) {\r\n\t\t\t\t// check whether FLP has already set the content density class; do nothing in this case\r\n\t\t\t\tif (document.body.classList.contains(\"sapUiSizeCozy\") || document.body.classList.contains(\"sapUiSizeCompact\")) {\r\n\t\t\t\t\tthis._sContentDensityClass = \"\";\r\n\t\t\t\t} else if (!Device.support.touch) { // apply \"compact\" mode if touch is not supported\r\n\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCompact\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// \"cozy\" in case of touch support; default for most sap.m controls, but needed for desktop-first controls like sap.ui.table.Table\r\n\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCozy\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this._sContentDensityClass;\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/controller/Main.controller.js": "sap.ui.define([\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t\"br/citrosuco/tm/ZUI5_TM_VESSEL/model/utils\",\r\n\t\"br/citrosuco/tm/ZUI5_TM_VESSEL/model/formatter\"\r\n], function(MessageToast, Controller, Utils, formatter) {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"br.citrosuco.tm.ZUI5_TM_VESSEL.controller.Main\", {\r\n\r\n\t\tformatter: formatter,\r\n\r\n\t\tonInit: function() {\r\n\t\t\tthis.oTable = this.byId(\"table\");\r\n\t\t\tthis.oTable.setModel(this.getModel());\r\n\t\t\tthis.oTanksModel = this.getOwnerComponent().getModel('tanks');\r\n\t\t\tthis.getView().setModel(this._createViewModel(), \"masterView\");\r\n\t\t\tvar sTitle = this.getResourceBundle().getText(\"tableTitleCount\") + \" (0)\";\r\n\t\t\tthis.getView().byId(\"titleTable\").setText(sTitle);\r\n\t\t\tthis.getModel().metadataLoaded().then(this._onMetadataLoaded.bind(this));\r\n\t\t\tthis.getModel().attachRequestSent(function() {\r\n\t\t\t\tthis.getModel(\"masterView\").setProperty(\"/busy\", true);\r\n\t\t\t}, this);\r\n\t\t\tthis.getModel().attachRequestCompleted(function() {\r\n\t\t\t\tthis.getModel(\"masterView\").setProperty(\"/busy\", false);\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\t_onMetadataLoaded: function() {\r\n\r\n\t\t\tvar iOriginalViewBusyDelay = this.getView().getBusyIndicatorDelay(),\r\n\t\t\t\toViewModel = this.getModel(\"masterView\");\r\n\r\n\t\t\toViewModel.setProperty(\"/delay\", 0);\r\n\r\n\t\t\toViewModel.setProperty(\"/busy\", true);\r\n\r\n\t\t\toViewModel.setProperty(\"/delay\", iOriginalViewBusyDelay);\r\n\t\t},\r\n\r\n\t\tgetModel: function() {\r\n\t\t\treturn this.getOwnerComponent().getModel();\r\n\t\t},\r\n\r\n\t\t_createViewModel: function() {\r\n\t\t\treturn new sap.ui.model.json.JSONModel({\r\n\t\t\t\tisFilterBarVisible: false,\r\n\t\t\t\tfilterBarLabel: \"\",\r\n\t\t\t\tbusy: false,\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\ttableTitle: this.getResourceBundle().getText(\"tableTitleCount\", \"0\"),\r\n\t\t\t\tnoDataText: this.getResourceBundle().getText(\"tableNoDataText\"),\r\n\t\t\t\tsortBy: \"Name1\",\r\n\t\t\t\tgroupBy: \"None\",\r\n\t\t\t\ttankSelectMode: sap.m.ListMode.SingleSelectMaster,\r\n\t\t\t\ttankItemPress: true,\r\n\t\t\t\tnewTanksVisible: true\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonUpdateTableVesselFinished: function(oEvent) {\r\n\t\t\tvar sTitle;\r\n\t\t\tif (this.oTable.getBinding(\"items\").isLengthFinal()) {\r\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"tableTitleCount\") + \" (\" + oEvent.getParameter(\"total\") + \")\";\r\n\t\t\t\tthis.getView().byId(\"titleTable\").setText(sTitle);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonUpdateTableTanksFinished: function() {\r\n\t\t\tvar sTitle;\r\n\t\t\tif (sap.ui.getCore().byId(\"tanksTable\")) {\r\n\t\t\t\tif (sap.ui.getCore().byId(\"tanksTable\").getBindingInfo(\"items\").binding) {\r\n\t\t\t\t\t// if (sap.ui.getCore().byId(\"tanksTable\").getBindingInfo(\"items\").binding.bLengthFinal) {\r\n\t\t\t\t\t// \tsTitle = this.getResourceBundle().getText(\"tableTitleTanksCount\") + \" (\" + oEvent.getParameter(\"total\") + \")\";\r\n\t\t\t\t\t// \tsap.ui.getCore().byId(\"titleTanksTable\").setText(sTitle);\r\n\t\t\t\t\t// \tif (sap.ui.getCore().byId(\"btnVesselQtdeTanque\")) {\r\n\t\t\t\t\t// \t\tsap.ui.getCore().byId(\"btnVesselQtdeTanque\").setText(oEvent.getParameter(\"total\"));\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\tvar iLength = sap.ui.getCore().byId(\"tanksTable\").getBindingInfo(\"items\").binding.iLength;\r\n\t\t\t\t\tsTitle = this.getResourceBundle().getText(\"tableTitleTanksCount\") + \" (\" + iLength + \")\";\r\n\t\t\t\t\tsap.ui.getCore().byId(\"titleTanksTable\").setText(sTitle);\r\n\t\t\t\t\t//sap.ui.getCore().byId(\"btnVesselQtdeTanque\").setText(iLength);\r\n\t\t\t\t\tif (sap.ui.getCore().byId(\"btnVesselQtdeTanque\")) {\r\n\t\t\t\t\t\tsap.ui.getCore().byId(\"btnVesselQtdeTanque\").setText(iLength);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetResourceBundle: function() {\r\n\t\t\treturn this.getOwnerComponent().getModel(\"i18n\").getResourceBundle();\r\n\t\t},\r\n\r\n\t\t_VesselHandleValueHelpSearch: function(e) {\r\n\t\t\tvar sQuery = e.getParameter(\"query\");\r\n\t\t\tthis.oTable.getBinding(\"items\").filter([new sap.ui.model.Filter(\"Ivessel\", \"EQ\", sQuery)], \"Application\");\r\n\t\t},\r\n\r\n\t\tonTankSearch: function(e) {\r\n\t\t\tif (e.getParameters().refreshButtonPressed) {\r\n\t\t\t\tthis.selTanksDialog._oList.getBinding(\"items\").filter([new sap.ui.model.Filter(\"Vessel\", \"EQ\", this._getVessel().CodEmbrc)]);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar sQuery = e.getParameter(\"value\");\r\n\t\t\tthis.selTanksDialog._oList.getBinding(\"items\").filter([new sap.ui.model.Filter(\"Shtank\", \"EQ\", sQuery)]);\r\n\t\t},\r\n\r\n\t\t// INICIO NEW TANKS\t\t\r\n\r\n\t\tonConfirmNewTank: function() {\r\n\t\t\tif (this._validar([\"inpTankCodEmbrc\", \"inpTankNomeEmbrc\", \"inpTankHatch\", \"inpTankTanque\"], \"msgNewTanks\")) {\r\n\t\t\t\tvar oTank = {\r\n\t\t\t\t\tCodEmbrc: sap.ui.getCore().byId(\"inpTankCodEmbrc\").getValue(),\r\n\t\t\t\t\tNomeEmbrc: sap.ui.getCore().byId(\"inpTankNomeEmbrc\").getValue(),\r\n\t\t\t\t\tHatch: sap.ui.getCore().byId(\"inpTankHatch\").getValue(),\r\n\t\t\t\t\tTanque: sap.ui.getCore().byId(\"inpTankTanque\").getValue(),\r\n\t\t\t\t\tCapacidade: sap.ui.getCore().byId(\"inpTankCapacidade\").getValue(),\r\n\t\t\t\t\tType: \"\",\r\n\t\t\t\t\tMessage: \"\"\r\n\t\t\t\t};\r\n\t\t\t\tthis._setVessel(undefined, [oTank]);\r\n\t\t\t\t//this._setTanks([oTank]);\r\n\t\t\t\tif (this.newTanksDialog) {\r\n\t\t\t\t\tthis.newTanksDialog.setBusy(false);\r\n\t\t\t\t\tthis.onCancelNewTanks();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonCancelNewTanks: function() {\r\n\t\t\tif (this.newTanksDialog) {\r\n\t\t\t\tthis.newTanksDialog.close();\r\n\t\t\t\tthis.newTanksDialog.destroy(true);\r\n\t\t\t\tthis.getView().removeAllDependents();\r\n\t\t\t\tthis.newTanksDialog = undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetNewTanksDialog: function() {\r\n\t\t\tif (!this.newTanksDialog) {\r\n\t\t\t\tthis.newTanksDialog = sap.ui.xmlfragment(\"br.citrosuco.tm.ZUI5_TM_VESSEL.fragments.newTanks\", this);\r\n\t\t\t\tthis.getView().addDependent(this.newTanksDialog);\r\n\t\t\t}\r\n\t\t\treturn this.newTanksDialog;\r\n\t\t},\r\n\r\n\t\topenNewTanksDialog: function() {\r\n\t\t\tthis.onCancelNewTanks();\r\n\t\t\tthis.getNewTanksDialog();\r\n\t\t\tvar oList = sap.ui.getCore().byId(\"tanksTable\");\r\n\t\t\tif (oList) {\r\n\t\t\t\tif (oList.getModel().getData()) {\r\n\t\t\t\t\tif (oList.getModel().getData().Tanks[0].CodEmbrc !== \"\") {\r\n\t\t\t\t\t\tsap.ui.getCore().byId(\"inpTankCodEmbrc\").setValue(oList.getModel().getData().Tanks[0].CodEmbrc);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (oList.getModel().getData().Tanks[0].Code !== \"\") {\r\n\t\t\t\t\t\t\tsap.ui.getCore().byId(\"inpTankCodEmbrc\").setValue(oList.getModel().getData().Tanks[0].Code);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oList.getModel().getData().Tanks[0].NomeEmbrc !== \"\") {\r\n\t\t\t\t\t\tsap.ui.getCore().byId(\"inpTankNomeEmbrc\").setValue(oList.getModel().getData().Tanks[0].NomeEmbrc);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (oList.getModel().getData().Tanks[0].Code !== \"\") {\r\n\t\t\t\t\t\t\tsap.ui.getCore().byId(\"inpTankCodEmbrc\").setValue(oList.getModel().getData().Tanks[0].Name);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (sap.ui.getCore().byId(\"inpVesselCode\")) {\r\n\t\t\t\t\tvar sVesselCode = sap.ui.getCore().byId(\"inpVesselCode\").getValue();\r\n\t\t\t\t\tsap.ui.getCore().byId(\"inpTankCodEmbrc\").setValue(sVesselCode);\r\n\t\t\t\t\tvar sVesselName = sap.ui.getCore().byId(\"inpVesselName\").getValue();\r\n\t\t\t\t\tsap.ui.getCore().byId(\"inpTankNomeEmbrc\").setValue(sVesselName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getNewTanksDialog().open();\r\n\t\t},\r\n\r\n\t\t// FIM NEW TANKS\t\r\n\r\n\t\t// INICIO CHANGE TANKS\t\r\n\r\n\t\tonConfirmChangeTank: function() {\r\n\t\t\tif (this._validar([\"inpTankCodEmbrc\", \"inpTankNomeEmbrc\", \"inpTankHatch\", \"inpTankTanque\"], \"msgChangeTanks\")) {\r\n\t\t\t\tvar oTank = {\r\n\t\t\t\t\tCodEmbrc: sap.ui.getCore().byId(\"inpTankCodEmbrc\").getValue(),\r\n\t\t\t\t\tNomeEmbrc: sap.ui.getCore().byId(\"inpTankNomeEmbrc\").getValue(),\r\n\t\t\t\t\tHatch: sap.ui.getCore().byId(\"inpTankHatch\").getValue(),\r\n\t\t\t\t\tTanque: sap.ui.getCore().byId(\"inpTankTanque\").getValue(),\r\n\t\t\t\t\tCapacidade: sap.ui.getCore().byId(\"inpTankCapacidade\").getValue(),\r\n\t\t\t\t\tType: \"\",\r\n\t\t\t\t\tMessage: \"\"\r\n\t\t\t\t};\r\n\t\t\t\tif (this.changeTanksDialog) {\r\n\t\t\t\t\tthis.changeTanksDialog.setBusy(true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.getModel().create(\"/TankSet\", oTank, {\r\n\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\tsap.m.MessageToast.show(oData.Message);\r\n\t\t\t\t\t\tif (this.changeTanksDialog) {\r\n\t\t\t\t\t\t\tthis.changeTanksDialog.setBusy(false);\r\n\t\t\t\t\t\t\tthis.onCancelChangeTanks();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.getTanksDialog().close();\r\n\t\t\t\t\t\t//this.refreshList(sap.ui.getCore().byId(\"tanksTable\"));\r\n\t\t\t\t\t\tthis.refreshList(this.oTable);\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tsap.m.MessageToast.show(oError.message);\r\n\t\t\t\t\t\tif (this.changeTanksDialog) {\r\n\t\t\t\t\t\t\tthis.changeTanksDialog.setBusy(false);\r\n\t\t\t\t\t\t\tthis.onCancelChangeTanks();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonCancelChangeTanks: function() {\r\n\t\t\tif (this.changeTanksDialog) {\r\n\t\t\t\tthis.changeTanksDialog.close();\r\n\t\t\t\tthis.changeTanksDialog.destroy(true);\r\n\t\t\t\tthis.getView().removeAllDependents();\r\n\t\t\t\tthis.changeTanksDialog = undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetChangeTanksDialog: function() {\r\n\t\t\tif (!this.changeTanksDialog) {\r\n\t\t\t\tthis.changeTanksDialog = sap.ui.xmlfragment(\"br.citrosuco.tm.ZUI5_TM_VESSEL.fragments.changeTanks\", this);\r\n\t\t\t\tthis.getView().addDependent(this.changeTanksDialog);\r\n\t\t\t}\r\n\t\t\treturn this.changeTanksDialog;\r\n\t\t},\r\n\r\n\t\topenChangeTanksDialog: function(oLine) {\r\n\t\t\tthis.getChangeTanksDialog();\r\n\t\t\tvar oList = sap.ui.getCore().byId(\"tanksTable\");\r\n\t\t\tif (oList) {\r\n\t\t\t\tvar sCode = \"\";\r\n\t\t\t\tvar sName = \"\";\r\n\t\t\t\tif (oList.getModel().getData().Tanks[oLine].CodEmbrc !== \"\") {\r\n\t\t\t\t\tsCode = oList.getModel().getData().Tanks[oLine].CodEmbrc;\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (oList.getModel().getData().Tanks[oLine].Code !== \"\") {\r\n\t\t\t\t\t\tsCode = oList.getModel().getData().Tanks[oLine].Code;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (oList.getModel().getData().Tanks[oLine].NomeEmbrc !== \"\") {\r\n\t\t\t\t\tsName = oList.getModel().getData().Tanks[oLine].NomeEmbrc;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (oList.getModel().getData().Tanks[oLine].Code !== \"\") {\r\n\t\t\t\t\t\tsName = oList.getModel().getData().Tanks[oLine].Nome;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar sHatch = oList.getModel().getData().Tanks[oLine].Hatch;\r\n\t\t\t\tvar sTanque = oList.getModel().getData().Tanks[oLine].Tanque;\r\n\t\t\t\tvar sCapacidade = oList.getModel().getData().Tanks[oLine].Capacidade;\r\n\r\n\t\t\t\tsap.ui.getCore().byId(\"inpTankCodEmbrc\").setValue(sCode);\r\n\t\t\t\tsap.ui.getCore().byId(\"inpTankNomeEmbrc\").setValue(sName);\r\n\t\t\t\tsap.ui.getCore().byId(\"inpTankHatch\").setValue(sHatch);\r\n\t\t\t\tsap.ui.getCore().byId(\"inpTankTanque\").setValue(sTanque);\r\n\t\t\t\tsap.ui.getCore().byId(\"inpTankCapacidade\").setValue(sCapacidade);\r\n\r\n\t\t\t\tif (sap.ui.getCore().byId(\"inpVesselCode\")) {\r\n\t\t\t\t\tvar sVesselCode = sap.ui.getCore().byId(\"inpVesselCode\").getValue();\r\n\t\t\t\t\tsap.ui.getCore().byId(\"inpTankCodEmbrc\").setValue(sVesselCode);\r\n\t\t\t\t\tvar sVesselName = sap.ui.getCore().byId(\"inpVesselName\").getValue();\r\n\t\t\t\t\tsap.ui.getCore().byId(\"inpTankNomeEmbrc\").setValue(sVesselName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar sContext = \"/TankSet(CodEmbrc='\" + sCode + \"',Hatch='\" + sHatch + \"',Tanque='\" + sTanque +\"')\";\r\n\t\t\t\r\n\t\t\tthis.getChangeTanksDialog().bindElement({\r\n\t\t\t\tpath:sContext\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.oTanksModel.setProperty(\"/SelLine\", oLine);\r\n\t\t\t\r\n\t\t\tthis.getChangeTanksDialog().open();\r\n\t\t},\r\n\r\n\t\t// FIM CHANGE TANKS\t\t\r\n\r\n\t\tonDeleteTank: function(e) {\r\n\t\t\tthis.getChangeTanksDialog().setBusy(true);\r\n\t\t\tthis.getModel().remove(e.getSource().getBindingContext().getPath(), {\r\n\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t//sap.m.MessageToast.show(oData.Message);\r\n\t\t\t\t\tif (this.changeTanksDialog) {\r\n\t\t\t\t\t\tthis.changeTanksDialog.setBusy(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar aNewTanks = [];\r\n\t\t\t\t\tvar aOldTanks = this.oTanksModel.getData().Tanks;\r\n\t\t\t\t\tvar oDeletedLine = parseInt(this.oTanksModel.getProperty(\"/SelLine\"));\r\n\t\t\t\t\tfor(var i=0; i<=aOldTanks.length; i++){\r\n\t\t\t\t\t\tif(i !== oDeletedLine){\r\n\t\t\t\t\t\t\taNewTanks.push(aOldTanks[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.oTanksModel.setData({\r\n\t\t\t\t\t\tTanks : aNewTanks\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.oTanksModel.refresh(true);\r\n\t\t\t\t\tthis.onUpdateTableTanksFinished();\r\n\t\t\t\t\t//sap.ui.getCore().byId(\"tanksTable\").getModel().refresh();\r\n\t\t\t\t\tthis.onCancelChangeTanks();\r\n\t\t\t\t\tthis.getModel().refresh(true);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tsap.m.MessageToast.show(oError.message);\r\n\t\t\t\t\tif (this.changeTanksDialog) {\r\n\t\t\t\t\t\tthis.changeTanksDialog.setBusy(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonCancelTanks: function() {\r\n\t\t\tif (this.tanksDialog) {\r\n\t\t\t\tthis.tanksDialog.destroy(true);\r\n\t\t\t\tthis.getView().getDependents();\r\n\t\t\t\tthis.tanksDialog = undefined;\r\n\t\t\t}\r\n\t\t\tthis.oTanksModel.setData({\r\n\t\t\t\tTanks: []\r\n\t\t\t});\r\n\t\t\r\n\t\t},\r\n\r\n\t\tgetTanksDialog: function() {\r\n\t\t\tif (!this.tanksDialog) {\r\n\t\t\t\tthis.tanksDialog = sap.ui.xmlfragment(\"br.citrosuco.tm.ZUI5_TM_VESSEL.fragments.tanks\", this);\r\n\t\t\t\tthis.getView().addDependent(this.tanksDialog);\r\n\t\t\t}\r\n\t\t\treturn this.tanksDialog;\r\n\t\t},\r\n\r\n\t\topenTanksDialog: function(e) {\r\n\t\t\tvar t = this;\r\n\t\t\tvar sText = this.getResourceBundle().getText(\"addVessel\");\r\n\t\t\t//var oList = sap.ui.getCore().byId(\"tanksTable\");\r\n\t\t\tif (e.getParameter(\"id\") === \"btnVesselQtdeTanque\") {\r\n\t\t\t\tthis.getView().getModel(\"masterView\").setProperty(\"/tankSelectMode\", sap.m.ListMode.SingleSelectMaster);\r\n\t\t\t\tthis.getView().getModel(\"masterView\").setProperty(\"/tankItemPress\", true);\r\n\t\t\t\tthis.getView().getModel(\"masterView\").setProperty(\"/newTanksVisible\", true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().getModel(\"masterView\").setProperty(\"/tankSelectMode\", sap.m.ListMode.None);\r\n\t\t\t\tthis.getView().getModel(\"masterView\").setProperty(\"/tankItemPress\", false);\r\n\t\t\t\tthis.getView().getModel(\"masterView\").setProperty(\"/newTanksVisible\", false);\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (e.getSource().getBindingContext()) {\r\n\t\t\t\tsText = this.getResourceBundle().getText(\"title\") + \": \" + e.getSource().getBindingContext().getObject().Code;\r\n\t\t\t\tthis.getTanksDialog().setBusy(true);\r\n\t\t\t\tthis.getModel().read(e.getSource().getBindingContext().getPath() + \"/Tanks\", {\r\n\t\t\t\t\tasync: false,\r\n\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\tif (oData.results.length > 0) {\r\n\t\t\t\t\t\t\tt._setTanks(oData.results, true);\r\n\t\t\t\t\t\t\tt.getTanksDialog().setBusy(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// oList.setModel(this.getModel());\r\n\t\t\t\t// oList.bindItems({\r\n\t\t\t\t// \tpath: e.getSource().getBindingContext().getPath() + \"/Tanks\",\r\n\t\t\t\t// \ttemplate: oList.getBindingInfo(\"items\").template\r\n\t\t\t\t// });\r\n\t\t\t} else {\r\n\t\t\t\t// if (sap.ui.getCore().byId(\"inpVesselCode\")) {\r\n\t\t\t\t// \t//var sVesselCode = sap.ui.getCore().byId(\"inpVesselCode\").getValue();\r\n\t\t\t\t// \tif (!this._validar()) {\r\n\t\t\t\t// \t\treturn;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tsText = this.getResourceBundle().getText(\"title\") + \": \" + sap.ui.getCore().byId(\"inpVesselCode\").getValue();\r\n\t\t\t\t// \toList.setModel(this.oTanksModel);\r\n\t\t\t\t// \toList.bindItems({\r\n\t\t\t\t// \t\tpath: \"/Tanks\",\r\n\t\t\t\t// \t\ttemplate: oList.getBindingInfo(\"items\").template\r\n\t\t\t\t// \t});\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t\tthis.getTanksDialog().open();\r\n\t\t\tthis.getTanksDialog().setTitle(sText);\r\n\t\t\tvar sTitle = this.getResourceBundle().getText(\"tableTitleTanksCount\") + \" (0)\";\r\n\t\t\tsap.ui.getCore().byId(\"titleTanksTable\").setText(sTitle);\r\n\t\t},\r\n\r\n\t\trefreshList: function(oList) {\r\n\t\t\tif (oList) {\r\n\t\t\t\toList.bindItems({\r\n\t\t\t\t\tpath: oList.getBindingInfo(\"items\").path,\r\n\t\t\t\t\ttemplate: oList.getBindingInfo(\"items\").template\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetBloquedItems: function(oList) {\r\n\t\t\tvar header = oList.$().find('thead');\r\n\t\t\tvar selectAllCb = header.find('.sapMCb');\r\n\t\t\tselectAllCb.remove();\r\n\t\t\toList.getItems().forEach(function(r) {\r\n\t\t\t\tvar cb = r.$().find('.sapMCb');\r\n\t\t\t\tvar oCb = sap.ui.getCore().byId(cb.attr('id'));\r\n\t\t\t\toCb.setEnabled(false);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_getVessel: function(oAction) {\r\n\t\t\tif (!this._sVessel) {\r\n\t\t\t\tthis._setVessel(undefined,undefined,oAction);\r\n\t\t\t}\r\n\t\t\treturn this._sVessel;\r\n\t\t},\r\n\r\n\t\t_setVessel: function(oVessel, oTank,oAction) {\r\n\t\t\tif (oTank) {\r\n\t\t\t\tthis._setTanks(oTank);\r\n\t\t\t}\r\n\t\t\tif (oVessel) {\r\n\t\t\t\tthis._sVessel = {\r\n\t\t\t\t\tCodEmbrc: oVessel.CodEmbrc,\r\n\t\t\t\t\tType: \"\",\r\n//\t\t\t\t\tMessage: \"\",\r\n\t\t\t\t\tNomeEmbrc: oVessel.NomeEmbrc,\r\n\t\t\t\t\tAnoFab: oVessel.AnoFab,\r\n\t\t\t\t\tServicoDesde: oVessel.ServicoDesde,\r\n//\t\t\t\t\tAction: oVessel.Action,\r\n\t\t\t\t\tEmail: oVessel.Email,\r\n\t\t\t\t\tFone: oVessel.Fone,\r\n\t\t\t\t\tFax: oVessel.Fax,\r\n\t\t\t\t\tViagemAtual: oVessel.ViagemAtual,\r\n\t\t\t\t\tPriority: oVessel.Priority,\r\n\t\t\t\t\tBlockRec: oVessel.BlockRec,\r\n\t\t\t\t\tIvessel: oVessel.Ivessel,\r\n\t\t\t\t\tTanks: this._getTanks()\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tif (sap.ui.getCore().byId(\"inpVesselCode\")) {\r\n\t\t\t\t\tthis._sVessel = {\r\n\t\t\t\t\t\tCodEmbrc: sap.ui.getCore().byId(\"inpVesselCode\").getValue(),\r\n\t\t\t\t\t\tType: \"\",\r\n//\t\t\t\t\t\tMessage: \"\",\r\n\t\t\t\t\t\tNomeEmbrc: sap.ui.getCore().byId(\"inpVesselName\").getValue(),\r\n\t\t\t\t\t\tAnoFab: sap.ui.getCore().byId(\"dtVesselAnoFab\").getDateValue(),\r\n\t\t\t\t\t\tServicoDesde: sap.ui.getCore().byId(\"dtVesselIServicoDesde\").getDateValue(),\r\n//\t\t\t\t\t\tAction: oAction,\r\n\t\t\t\t\t\tEmail: sap.ui.getCore().byId(\"inpVesselEmail\").getValue(),\r\n\t\t\t\t\t\tFone: sap.ui.getCore().byId(\"inpVesselFone\").getValue(),\r\n\t\t\t\t\t\tFax: sap.ui.getCore().byId(\"inpVesselFax\").getValue(),\r\n\t\t\t\t\t\tViagemAtual: sap.ui.getCore().byId(\"inpVesselViagemAtual\").getValue(),\r\n\t\t\t\t\t\tPriority: sap.ui.getCore().byId(\"inpPriority\").getValue(),\r\n\t\t\t\t\t\tBlockRec: \"\",\r\n\t\t\t\t\t\tIvessel: \"\",\r\n\t\t\t\t\t\tTanks: this._getTanks()\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getTanks: function() {\r\n\t\t\tif (!this._aTanks) {\r\n\t\t\t\tthis._setTanks();\r\n\t\t\t}\r\n\t\t\treturn this._aTanks;\r\n\t\t},\r\n\r\n\t\t_setTanks: function(aTanks, initialLoad) {\r\n\t\t\tthis._aTanks = [];\r\n\t\t\tif (aTanks) {\r\n\t\t\t\taTanks.forEach(function(oItem) {\r\n\t\t\t\t\tthis._aTanks.push({\r\n\t\t\t\t\t\tCodEmbrc: oItem.CodEmbrc,\r\n\t\t\t\t\t\tNomeEmbrc: oItem.NomeEmbrc,\r\n\t\t\t\t\t\tHatch: oItem.Hatch,\r\n\t\t\t\t\t\tTanque: oItem.Tanque,\r\n\t\t\t\t\t\tCapacidade: oItem.Capacidade,\r\n\t\t\t\t\t\tType: \"\",\r\n\t\t\t\t\t\tMessage: \"\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t\tif (!initialLoad) {\r\n\t\t\t\tvar oOldTanks = this.oTanksModel.getData().Tanks;\r\n\t\t\t\tif (oOldTanks && oOldTanks.length > 0) {\r\n\t\t\t\t\toOldTanks.forEach(function(oItem) {\r\n\t\t\t\t\t\tthis._aTanks.push({\r\n\t\t\t\t\t\t\tCodEmbrc: oItem.CodEmbrc,\r\n\t\t\t\t\t\t\tNomeEmbrc: oItem.NomeEmbrc,\r\n\t\t\t\t\t\t\tHatch: oItem.Hatch,\r\n\t\t\t\t\t\t\tTanque: oItem.Tanque,\r\n\t\t\t\t\t\t\tCapacidade: oItem.Capacidade,\r\n\t\t\t\t\t\t\tType: \"\",\r\n\t\t\t\t\t\t\tMessage: \"\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.oTanksModel.setData({\r\n\t\t\t\tTanks: this._aTanks\r\n\t\t\t});\r\n\t\t\tvar oList = sap.ui.getCore().byId(\"tanksTable\");\r\n\t\t\tif(oList){\r\n\t\t\t\toList.setModel(this.oTanksModel);\r\n\t\t\t\toList.bindItems({\r\n\t\t\t\t\tpath: \"/Tanks\",\r\n\t\t\t\t\ttemplate: oList.getBindingInfo(\"items\").template\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.oTanksModel.refresh(true);\r\n\t\t\tthis.onUpdateTableTanksFinished();\r\n\t\t},\r\n\r\n\t\tonLockUnlock: function(e) {\r\n\t\t\tvar t = this,\r\n\t\t\t\tsText = \"\",\r\n\t\t\t\tsTitle = \"\";\r\n\t\t\tthis._setVessel(e.getSource().getBindingContext().getObject());\r\n\t\t\tif (this._sVessel.BlockRec === \"\") {\r\n\t\t\t\tthis._sVessel.BlockRec = \"X\";\r\n\t\t\t\tsText = this.getResourceBundle().getText(\"lockVessel\") + \" \" + this._sVessel.Code + \"?\";\r\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"lock\");\r\n\t\t\t} else {\r\n\t\t\t\tthis._sVessel.BlockRec = \"\";\r\n\t\t\t\tsText = this.getResourceBundle().getText(\"unlockVessel\") + \" \" + this._sVessel.Code + \"?\";\r\n\t\t\t\tsTitle = this.getResourceBundle().getText(\"unlock\");\r\n\t\t\t}\r\n\t\t\tsap.m.MessageBox.show(sText, {\r\n\t\t\t\ticon: sap.m.MessageBox.Icon.QUESTION,\r\n\t\t\t\ttitle: sTitle,\r\n\t\t\t\tactions: [sap.m.MessageBox.Action.YES, sap.m.MessageBox.Action.NO],\r\n\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\tif (oAction !== \"CANCEL\") {\r\n\t\t\t\t\t\tif (oAction === \"YES\") {\r\n\t\t\t\t\t\t\tt.actionVessel(\"B\"); //Bloq / Desbloq\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetChangeVesselDialog: function() {\r\n\t\t\tif (!this.changeVesselDialog) {\r\n\t\t\t\tthis.changeVesselDialog = sap.ui.xmlfragment(\"br.citrosuco.tm.ZUI5_TM_VESSEL.fragments.changeVessel\", this);\r\n\t\t\t\tthis.getView().addDependent(this.changeVesselDialog);\r\n\t\t\t}\r\n\t\t\treturn this.changeVesselDialog;\r\n\t\t},\r\n\r\n\t\tonTableItemTanksPressed: function(e) {\r\n\t\t\tif (this.getView().getModel(\"masterView\").getProperty(\"/tankItemPress\")) {\r\n\t\t\t\tvar sContext = e.getParameter(\"listItem\").getBindingContext();\r\n\t\t\t\tthis.openChangeTanksDialog(sContext.getPath().replace(\"/Tanks/\", \"\"));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonTableItemPressed: function(e) {\r\n\t\t\tvar sContext = e.getParameter(\"listItem\").getBindingContext();\r\n\t\t\tthis.getChangeVesselDialog().bindElement({\r\n\t\t\t\tpath: sContext.getPath()\r\n\t\t\t});\r\n\t\t\tthis.getChangeVesselDialog().setModel(new sap.ui.model.json.JSONModel({\r\n\t\t\t\tSelectedVesselCode: sContext.getObject().Code,\r\n\t\t\t\tSelectedVesselName: sContext.getObject().Name\r\n\t\t\t}), \"vessel\");\r\n\t\t\tthis.getChangeVesselDialog().open();\r\n\t\t},\r\n\r\n\t\topenNewVesselDialog: function() {\r\n\t\t\tthis.getNewVesselDialog().setModel(new sap.ui.model.json.JSONModel({\r\n\t\t\t\tSelectedVesselCode: \"Novo\",\r\n\t\t\t\tSelectedVesselName: \"Novo\"\r\n\t\t\t}), \"vessel\");\r\n\t\t\tthis.getNewVesselDialog().open();\r\n\t\t},\r\n\r\n\t\tgetNewVesselDialog: function() {\r\n\t\t\tif (!this.newVesselDialog) {\r\n\t\t\t\tthis.newVesselDialog = sap.ui.xmlfragment(\"br.citrosuco.tm.ZUI5_TM_VESSEL.fragments.newVessel\", this);\r\n\t\t\t\tthis.getView().addDependent(this.newVesselDialog);\r\n\t\t\t}\r\n\t\t\treturn this.newVesselDialog;\r\n\t\t},\r\n\r\n\t\tonConfirmNewVessel: function() {\r\n\t\t\tvar oInpVessel = sap.ui.getCore().byId(\"inpVesselCode\");\r\n\t\t\tvar sContext = this.getModel().getProperty(\"/VesselSet('\" + oInpVessel + \"')\");\r\n\t\t\tif (!sContext) {\r\n\t\t\t\tthis.actionVessel(\"C\");\r\n\t\t\t} else {\r\n\t\t\t\tif (oInpVessel) {\r\n\t\t\t\t\toInpVessel.setValueState(\"Error\");\r\n\t\t\t\t}\r\n\t\t\t\treturn Utils.putMessage(\"msgChangeVessel\", this.getResourceBundle().getText(\"vesselExist\"), sap.ui.getCore());\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonCancelNewVessel: function() {\r\n\t\t\tif (this.newVesselDialog) {\r\n\t\t\t\tthis.newVesselDialog.close();\r\n\t\t\t\tthis.newVesselDialog.destroy(true);\r\n\t\t\t\tthis.getView().removeAllDependents();\r\n\t\t\t\tthis.newVesselDialog = undefined;\r\n\t\t\t}\r\n\t\t\tthis.oTanksModel.setData({\r\n\t\t\t\tTanks: []\r\n\t\t\t});\r\n\t\t\tthis.oTanksModel.refresh(true);\r\n\t\t},\r\n\r\n\t\tonLiveVesselCode: function(e) {\r\n\t\t\tsap.ui.getCore().byId(\"dialogNewVessel\").setTitle(e.getParameter('value'));\r\n\t\t},\r\n\r\n\t\tonConfirmChangeVessel: function() {\r\n\t\t\tthis.actionVessel(\"M\");\r\n\t\t},\r\n\r\n\t\tonCancelChangeVessel: function() {\r\n\t\t\tif (this.changeVesselDialog) {\r\n\t\t\t\tthis.changeVesselDialog.close();\r\n\t\t\t\tthis.changeVesselDialog.destroy(true);\r\n\t\t\t\tthis.getView().removeAllDependents();\r\n\t\t\t\tthis.changeVesselDialog = undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_validar: function(aFields, oMsg) {\r\n\t\t\tif (!aFields) {\r\n\t\t\t\taFields = [\"inpVesselCode\",\r\n\t\t\t\t\t\"inpVesselName\",\r\n\t\t\t\t\t\"inpPriority\",\r\n\t\t\t\t\t\"dtVesselAnoFab\",\r\n\t\t\t\t\t\"dtVesselIServicoDesde\",\r\n\t\t\t\t\t\"inpVesselViagemAtual\"\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\treturn Utils.validarCampos(sap.ui.getCore(), aFields, oMsg);\r\n\t\t},\r\n\r\n\t\tactionVessel: function(oAction) {\r\n\t\t\t// C\tCreate \r\n\t\t\t// M\tModify \r\n\t\t\t// B\tBloq\r\n\t\t\tswitch (oAction) {\r\n\t\t\t\tcase \"C\":\r\n\t\t\t\t\tthis._getVessel(oAction);\r\n\t\t\t\t\tif (!this._validar(null, \"msgNewVessel\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this._sVessel.Tanks && this._sVessel.Tanks.length < 1) {\r\n\t\t\t\t\t\tUtils.putMessage(\"msgNewVessel\", this.getResourceBundle().getText(\"infTanks\"), sap.ui.getCore());\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._sVessel.Action = \"C\";\r\n\t\t\t\t\tthis.getNewVesselDialog().setBusy(true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"M\":\r\n\t\t\t\t\tthis._getVessel();\r\n\t\t\t\t\tif (this._sVessel.Tanks && this._sVessel.Tanks.length < 1) {\r\n\t\t\t\t\t\tif (sap.ui.getCore().byId(\"btnVesselQtdeTanque\").getText() === \"0\") {\r\n\t\t\t\t\t\t\tsap.m.MessageToast.show(this.getResourceBundle().getText(\"infTanks\"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._sVessel.Action = \"M\";\r\n\t\t\t\t\tthis.getChangeVesselDialog().setBusy(true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"B\":\r\n\t\t\t\t\tthis._sVessel.Action = \"B\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis.getModel().create(\"/VesselSet\", this._sVessel, {\r\n\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\tthis._sucess(oData);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tthis._failed(oError);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\t_sucess: function(oData) {\r\n\t\t\tsap.m.MessageToast.show(oData.Message);\r\n\r\n\t\t\tif (this.changeVesselDialog) {\r\n\t\t\t\tthis.changeVesselDialog.setBusy(false);\r\n\t\t\t}\r\n\t\t\tif (this.newVesselDialog) {\r\n\t\t\t\tthis.newVesselDialog.setBusy(false);\r\n\t\t\t}\r\n\t\t\tif (oData.Type !== 'E') {\r\n\t\t\t\t//if (oData.Type !== 'S') {\r\n\t\t\t\tthis.onCancelNewVessel();\r\n\t\t\t\tthis.onCancelChangeVessel();\r\n\t\t\t\tthis.refreshList(this.oTable);\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_failed: function(oError) {\r\n\t\t\tsap.m.MessageToast.show(oError.message);\r\n\t\t\tif (this.changeVesselDialog) {\r\n\t\t\t\tthis.changeVesselDialog.setBusy(false);\r\n\t\t\t}\r\n\t\t\tif (this.newVesselDialog) {\r\n\t\t\t\tthis.newVesselDialog.setBusy(false);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topenTimeZoneDialog: function() {\r\n\t\t\tthis.getTimeZoneDialog().open();\r\n\t\t},\r\n\r\n\t\tgetTimeZoneDialog: function() {\r\n\t\t\tif (!this.shTimeZoneDialog) {\r\n\t\t\t\tthis.shTimeZoneDialog = sap.ui.xmlfragment(\"br.citrosuco.tm.ZUI5_TM_VESSEL.fragments.shTimeZone\", this);\r\n\t\t\t\tthis.getView().addDependent(this.shTimeZoneDialog);\r\n\t\t\t}\r\n\t\t\treturn this.shTimeZoneDialog;\r\n\t\t},\r\n\r\n\t\t_TimeZoneSHConfirm: function(e) {\r\n\t\t\tvar sTimeZone = e.getParameter(\"selectedItem\").getBindingContext().getObject();\r\n\t\t\tif (sap.ui.getCore().byId(\"inpTimeZone\")) {\r\n\t\t\t\tsap.ui.getCore().byId(\"inpTimeZone\").setValue(sTimeZone.Tzone);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_TimeZoneSHSearch: function(e) {\r\n\t\t\tvar sQuery = e.getParameter(\"value\");\r\n\t\t\tvar oFilter = [new sap.ui.model.Filter(\"Tzone\", sap.ui.model.FilterOperator.Contains, sQuery)];\r\n\t\t\t//this.getTimeZoneDialog().getBinding(\"items\").filter(oFilter);\r\n\t\t\tthis.getTimeZoneDialog()._oList.getBinding(\"items\").filter(oFilter);\r\n\t\t\t//this.oTable.getBinding(\"items\").filter([new sap.ui.model.Filter(\"Shport\", \"EQ\", sQuery)], \"Application\");\r\n\t\t},\r\n\r\n\t\t_TimeZoneSHCancel: function() {\r\n\t\t\tif (this.shTimeZoneDialog) {\r\n\t\t\t\t//this.shTimeZoneDialog.close();\r\n\t\t\t\tthis.shTimeZoneDialog.destroy(true);\r\n\t\t\t\tthis.getView().removeAllDependents();\r\n\t\t\t\tthis.shTimeZoneDialog = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n});",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/controller/ErrorHandler.js": "sap.ui.define([\r\n\t\"sap/ui/base/Object\",\r\n\t\"sap/m/MessageBox\"\r\n], function (UI5Object, MessageBox) {\r\n\t\"use strict\";\r\n\r\n\treturn UI5Object.extend(\"br.citrosuco.tm.ZUI5_TM_VESSEL.controller.ErrorHandler\", {\r\n\r\n\t\t/**\r\n\t\t * Handles application errors by automatically attaching to the model events and displaying errors when needed.\r\n\t\t * @class\r\n\t\t * @param {sap.ui.core.UIComponent} oComponent reference to the app's component\r\n\t\t * @public\r\n\t\t * @alias br.embrapa.hcm.zhcm_promo_sal_9700_9904_mss.controller.ErrorHandler\r\n\t\t */\r\n\t\tconstructor : function (oComponent) {\r\n\t\t\tthis._oResourceBundle = oComponent.getModel(\"i18n\").getResourceBundle();\r\n\t\t\tthis._oComponent = oComponent;\r\n\t\t\tthis._oModel = oComponent.getModel();\r\n\t\t\tthis._bMessageOpen = false;\r\n\t\t\tthis._sErrorText = this._oResourceBundle.getText(\"errorText\");\r\n\r\n\t\t\tthis._oModel.attachMetadataFailed(function (oEvent) {\r\n\t\t\t\tvar oParams = oEvent.getParameters();\r\n\t\t\t\tthis._showServiceError(oParams.response);\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis._oModel.attachRequestFailed(function (oEvent) {\r\n\t\t\t\tvar oParams = oEvent.getParameters();\r\n\t\t\t\t// An entity that was not found in the service is also throwing a 404 error in oData.\r\n\t\t\t\t// We already cover this case with a notFound target so we skip it here.\r\n\t\t\t\t// A request that cannot be sent to the server is a technical error that we have to handle though\r\n\t\t\t\tif (oParams.response.statusCode !== \"404\" || (oParams.response.statusCode === 404 && oParams.response.responseText.indexOf(\"Cannot POST\") === 0)) {\r\n\t\t\t\t\tthis._showServiceError(oParams.response);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Shows a {@link sap.m.MessageBox} when a service call has failed.\r\n\t\t * Only the first error message will be display.\r\n\t\t * @param {string} sDetails a technical error to be displayed on request\r\n\t\t * @private\r\n\t\t */\r\n\t\t_showServiceError : function (sDetails) {\r\n\t\t\tif (this._bMessageOpen) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._bMessageOpen = true;\r\n\t\t\tMessageBox.error(\r\n\t\t\t\tthis._sErrorText,\r\n\t\t\t\t{\r\n\t\t\t\t\tid : \"serviceErrorMessageBox\",\r\n\t\t\t\t\tdetails: sDetails,\r\n\t\t\t\t\tstyleClass: this._oComponent.getContentDensityClass(),\r\n\t\t\t\t\tactions: [MessageBox.Action.CLOSE],\r\n\t\t\t\t\tonClose: function () {\r\n\t\t\t\t\t\tthis._bMessageOpen = false;\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/fragments/shTimeZone.fragment.xml": "<core:FragmentDefinition\r\n\txmlns=\"sap.m\"\r\n\txmlns:core=\"sap.ui.core\">\r\n\t<SelectDialog\r\n\t\tgrowingThreshold=\"20\"\r\n\t\tbusy=\"{masterView>/busy}\"\r\n\t\ttitle=\"{i18n>TimeZone}\"\r\n\t\tclass=\"sapUiPopupWithPadding\"\r\n\t\titems=\"{/ShTimezoneSet}\"\r\n\t\tsearch=\"_TimeZoneSHSearch\"\r\n\t\tconfirm=\"_TimeZoneSHConfirm\"\r\n\t\tcancel=\"_TimeZoneSHCancel\">\r\n\t\t<StandardListItem\r\n\t\t\ttitle=\"{Tzone}\"\r\n\t\t\tdescription=\"{Descript}\" />\r\n\t</SelectDialog>\r\n</core:FragmentDefinition>",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/view/Main.view.xml": "<mvc:View xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\" xmlns=\"sap.m\"\r\n\txmlns:l=\"sap.ui.layout\" xmlns:f=\"sap.ui.layout.form\" controllerName=\"br.citrosuco.tm.ZUI5_TM_VESSEL.controller.Main\" displayBlock=\"true\">\r\n\t<App>\r\n\t\t<pages>\r\n\t\t\t<Page title=\"{i18n>title}\" id=\"mainPage\" showNavButton=\"true\">\r\n\t\t\t\t<Table id=\"table\" mode=\"SingleSelectMaster\" busy=\"{masterView>/busy}\" busyIndicatorDelay=\"{masterView>/delay}\"\r\n\t\t\t\t\tnoDataText=\"{masterView>/noDataText}\" growingScrollToLoad=\"true\" growing=\"true\" growingThreshold=\"20\" inset=\"false\" \r\n\t\t\t\t\titems=\"{/VesselSet}\"\r\n\t\t\t\t\tupdateFinished=\"onUpdateTableVesselFinished\" itemPress=\"onTableItemPressed\">\r\n\t\t\t\t\t<headerToolbar>\r\n\t\t\t\t\t\t<OverflowToolbar>\r\n\t\t\t\t\t\t\t<Title id=\"titleTable\" level=\"H2\"/>\r\n\t\t\t\t\t\t\t<ToolbarSeparator/>\r\n\t\t\t\t\t\t\t<SearchField width=\"40%\" search=\"_VesselHandleValueHelpSearch\">\r\n\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t<OverflowToolbarLayoutData priority=\"High\"/>\r\n\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t</SearchField>\r\n\t\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t\t<!--<Button text=\"{i18n>New}\" tooltip=\"{i18n>Add}\" press=\"openNewVesselDialog\"/>-->\r\n\t\t\t\t\t\t</OverflowToolbar>\r\n\t\t\t\t\t</headerToolbar>\r\n\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t<Column width=\"10em\" hAlign=\"Center\"><Text text=\"{i18n>Lockunlock}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Left\"><Text text=\"{i18n>Code}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Left\"><Text text=\"{i18n>Name}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>Priority}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>AnoFab}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>ServicoDesde}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Left\"><Text text=\"{i18n>Email}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>Fone}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>Fax}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>ViagemAtual}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>QtdeTanque}\"/></Column>\r\n\t\t\t\t\t</columns>\r\n\t\t\t\t\t<items>\r\n\t\t\t\t\t\t<ColumnListItem type=\"Active\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<Button icon=\"{ path: 'BlockRec', formatter: '.formatter.lockUnlockIcon' }\"\r\n\t\t\t\t\t\t\t\t\ttype=\"{ path: 'BlockRec', formatter: '.formatter.lockUnlockColor' }\" tooltip=\"{ path: 'BlockRec', formatter: '.formatter.lockUnlockTip' }\"\r\n\t\t\t\t\t\t\t\t\tpress=\"onLockUnlock\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{CodEmbrc}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{NomeEmbrc}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Priority}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{ path: 'BUILT', formatter: '.formatter.dateExt' }\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{ path: 'DtInicoprac', formatter: '.formatter.dateExt' }\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{EmailEmbrc}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Fone1Embrc}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{FaxEmbrc}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Viagem}\"/>\r\n\t\t\t\t\t\t\t\t<Button class=\"sapUiTinyMargin\" text=\"{ path: 'QtdeTanque', formatter: '.formatter.numberInt' }\" press=\"openTanksDialog\"/>\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</items>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<footer>\r\n\t\t\t\t\t<Bar>\r\n\t\t\t\t\t\t<contentLeft>\r\n\t\t\t\t\t\t\t<!--<Button icon=\"sap-icon://key\" tooltip=\"{i18n>Lockunlock}\" press=\"onLockUnlock\"/>-->\r\n\t\t\t\t\t\t</contentLeft>\r\n\t\t\t\t\t\t<contentRight>\r\n\t\t\t\t\t\t\t<Button text=\"{i18n>New}\" tooltip=\"{i18n>Add}\" press=\"openNewVesselDialog\"/>\r\n\t\t\t\t\t\t</contentRight>\r\n\t\t\t\t\t</Bar>\r\n\t\t\t\t</footer>\r\n\t\t\t</Page>\r\n\t\t</pages>\r\n\t</App>\r\n</mvc:View>",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/model/models.js": "sap.ui.define([\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/Device\"\r\n], function(JSONModel, Device) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\r\n\t\tcreateDeviceModel: function() {\r\n\t\t\tvar oModel = new JSONModel(Device);\r\n\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\treturn oModel;\r\n\t\t}\r\n\r\n\t};\r\n});",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/model/formatter.js": "sap.ui.define([], function() {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\t\r\n\t\tlockUnlockIcon : function(sValue) {\r\n\t\t\tif (!sValue) {\r\n\t\t\t\treturn \"sap-icon://unlocked\";\r\n\t\t\t}else{\r\n\t\t\t\treturn \"sap-icon://locked\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tlockUnlockTip : function(sValue) {\r\n\t\t\tif (!sValue) {\r\n\t\t\t\treturn \"Desbloqueado\";\r\n\t\t\t}else{\r\n\t\t\t\treturn \"Bloqueado\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tlockUnlockColor : function(sValue) {\r\n\t\t\treturn sap.m.ButtonType.Default;\r\n\t\t\t/*if (!sValue) {\r\n\t\t\t\treturn sap.m.ButtonType.Accept;\r\n\t\t\t}else{\r\n\t\t\t\treturn sap.m.ButtonType.Reject;\r\n\t\t\t}*/\r\n\t\t},\r\n\t\t\r\n\t\tnumberInt : function(sValue) {\r\n\t\t\tif (!sValue) {\r\n\t\t\t\treturn \"0\";\r\n\t\t\t}\r\n\r\n\t\t\treturn parseInt(sValue);\r\n\t\t},\r\n\r\n\t\tcurrencyInt : function(sValue) {\r\n\t\t\tif (!sValue) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\r\n\t\t\treturn parseFloat(sValue).toFixed(2);\r\n\t\t},\r\n\r\n\t\tcurrencyExt : function(fValue) {\r\n\t\t\tif (fValue && fValue != \"\") {\r\n\t\t\t\tvar oNumberFormat = sap.ui.core.format.NumberFormat.getFloatInstance({\r\n\t\t\t\t\tminFractionDigits : 2,\r\n\t\t\t\t\tmaxFractionDigits : 2,\r\n\t\t\t\t\tgroupingEnabled : true,\r\n\t\t\t\t\tgroupingSeparator : \".\",\r\n\t\t\t\t\tdecimalSeparator : \",\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn oNumberFormat.format(fValue);\r\n\t\t\t}\r\n\r\n\t\t\treturn fValue;\r\n\t\t},\r\n\r\n\t\tdateExt : function(sValue) {\r\n\t\t\tif (sValue) {\r\n\t\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getDateTimeInstance({\r\n\t\t\t\t\tpattern : \"dd/MM/YYYY\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar dDate = undefined;\r\n\r\n\t\t\t\tif (sValue instanceof Date)\r\n\t\t\t\t\tdDate = sValue;\r\n\t\t\t\telse\r\n\t\t\t\t\tdDate = new Date(parseInt(sValue.substr(6)));\r\n\r\n\t\t\t\tvar sLocal = dDate.toUTCString();\r\n\t\t\t\tdDate = new Date(sLocal.substr(0, 16));\r\n\r\n\t\t\t\treturn oDateFormat.format(dDate);\r\n\t\t\t} else {\r\n\t\t\t\treturn sValue;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n});",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/model/utils.js": "sap.ui.define([\r\n\t\"sap/m/Button\",\r\n\t\"sap/m/Dialog\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"sap/m/Text\"\r\n], function (Button, Dialog, MessageBox, Text) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\tgetSubordinadoRouter: function (oThis) {\r\n\t\t\toThis = oThis.getOwnerComponent();\r\n\t\t\tvar oItem = \"Subordinado\" + new Date().getTime();\r\n\t\t\toThis.getRouter().addRoute({\r\n\t\t\t\tpattern: oItem,\r\n\t\t\t\tname: oItem,\r\n\t\t\t\ttarget: \"Subordinado\",\r\n\t\t\t\ttargetAggregation: \"pages\"\r\n\t\t\t});\r\n\t\t\treturn oItem;\r\n\t\t},\r\n\t\texibirNaoEncontrado: function (oThis, oTitle, oText, oDescription) {\r\n\t\t\tif (oThis instanceof sap.ui.core.mvc.Controller) {\r\n\t\t\t\toThis = oThis.getOwnerComponent();\r\n\t\t\t}\r\n\t\t\tvar oItem = \"NotFound\" + new Date().getTime();\r\n\t\t\toThis.getRouter().addRoute({\r\n\t\t\t\tpattern: oItem,\r\n\t\t\t\tname: oItem,\r\n\t\t\t\tviewPath: \"br.embrapa.hcm.commons.zhcm_commons.view\",\r\n\t\t\t\tview: \"NotFound\",\r\n\t\t\t\ttargetAggregation: \"pages\"\r\n\t\t\t});\r\n\r\n\t\t\tvar oErroModel = new sap.ui.model.json.JSONModel({\r\n\t\t\t\ttitle: oTitle,\r\n\t\t\t\ttext: oText,\r\n\t\t\t\tdescription: oDescription\r\n\t\t\t});\r\n\r\n\t\t\toThis.setModel(oErroModel, \"oErroModel\");\r\n\t\t\toThis.getRouter().navTo(oItem);\r\n\t\t},\r\n\t\tmontarConfirmacao: function (oTitle, oText, oOkText, fAction) {\r\n\t\t\tvar dialog = new Dialog({\r\n\t\t\t\ttitle: oTitle,\r\n\t\t\t\ttype: 'Message',\r\n\t\t\t\tcontent: new Text({\r\n\t\t\t\t\ttext: oText\r\n\t\t\t\t}),\r\n\t\t\t\tbeginButton: new Button({\r\n\t\t\t\t\ttext: oOkText,\r\n\t\t\t\t\tpress: function () {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\tfAction();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tendButton: new Button({\r\n\t\t\t\t\ttext: 'Cancelar',\r\n\t\t\t\t\tpress: function () {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tafterClose: function () {\r\n\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn dialog;\r\n\r\n\t\t},\r\n\r\n\t\tlimparValidacaoCampos: function(oFields,oView){\r\n\t\t\toFields.forEach(function (oField) {\r\n\t\t\t\toView.byId(oField).setValueState(\"None\");\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tvalidarCampos: function (oView, oFields, oMessage) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar bValidationError = false;\r\n\r\n\t\t\toFields.forEach(function (oInput) {\r\n\t\t\t\tbValidationError = that._validateInput((oView.byId(oInput)) ? oView.byId(oInput) : sap.ui.getCore().byId(oInput)) || bValidationError;\r\n\t\t\t});\r\n\r\n\t\t\tif (!bValidationError) {\r\n\t\t\t\tsap.ui.getCore().getMessageManager().removeAllMessages();\r\n\t\t\t\tif (oMessage) {\r\n\t\t\t\t\tif(oView.byId(oMessage)){\r\n\t\t\t\t\t\toView.byId(oMessage).setVisible(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tif (oMessage) {\r\n\t\t\t\t\tthis.putMessage(oMessage, \"Preencher campos obrigatórios\",oView);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar vText = \"Preencher campos obrigatórios\";\r\n\t\t\t\t\tvar vTitle = \"Ocorreu um erro\";\r\n\t\t\t\t\tMessageBox.show(\r\n\t\t\t\t\t\tvText, {\r\n\t\t\t\t\t\t\ticon: MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\ttitle: vTitle,\r\n\t\t\t\t\t\t\tactions: [MessageBox.Action.OK],\r\n\t\t\t\t\t\t\tonClose: function (oAction) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tputMessage: function (oMessage, oText,oView) {\r\n\t\t\tvar oMs = sap.ui.getCore().byId(\"msgStrip\");\r\n\t\t\tif (oMs) {\r\n\t\t\t\toMs.destroy();\r\n\t\t\t}\r\n\t\t\tvar oVC = oView.byId(oMessage);\r\n\t\t\tvar oMsgStrip = new sap.m.MessageStrip(\"msgStrip\", {\r\n\t\t\t\ttext: oText,\r\n\t\t\t\tshowCloseButton: true,\r\n\t\t\t\tshowIcon: true,\r\n\t\t\t\ttype: \"Error\"\r\n\t\t\t});\r\n\t\t\toVC.setVisible(true);\r\n\t\t\toMsgStrip.attachClose(function () {\r\n\t\t\t\toVC.setVisible(false);\r\n\t\t\t});\r\n\t\t\toVC.addContent(oMsgStrip);\r\n\r\n\t\t},\r\n\t\t_validateInput: function (oInput) {\r\n\t\t\tvar sValueState = \"None\";\r\n\t\t\tvar bValidationError = false;\r\n\t\t\tvar oValueInput = \"\";\r\n\t\t\t\r\n\t\t\tswitch(\"function\"){\r\n\t\t\t\tcase typeof oInput.getValue:\r\n\t\t\t\t\toValueInput = oInput.getValue();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase typeof oInput.getSelectedKey:\r\n\t\t\t\t\toValueInput = oInput.getSelectedKey();\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tcase typeof oInput.getSelected:\r\n\t\t\t\t\toValueInput = oInput.getSelected();\r\n\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (oValueInput === \"\") {\r\n\t\t\t\tsValueState = \"Error\";\r\n\t\t\t\tbValidationError = true;\r\n\t\t\t}\r\n\t\t\toInput.setValueState(sValueState);\r\n\t\t\treturn bValidationError;\r\n\t\t},\r\n\t\tcancelNavigation: function (oThis) {\r\n\t\t\tvar oModel = oThis.getView().getModel();\r\n\t\t\tif (oModel.hasPendingChanges()) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tMessageBox.confirm(\r\n\t\t\t\t\t\"Deseja realmente cancelar a edição e perder os dados não salvos?\", {\r\n\t\t\t\t\t\tonClose: function (oAction) {\r\n\t\t\t\t\t\t\tif (oAction === MessageBox.Action.OK) {\r\n\t\t\t\t\t\t\t\toModel.resetChanges();\r\n\t\t\t\t\t\t\t\tthat.navBack(oThis);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.navBack(oThis);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnavBack: function (oThis) {\r\n\t\t\tvar oHistory = sap.ui.core.routing.History.getInstance(),\r\n\t\t\t\tsPreviousHash = oHistory.getPreviousHash();\r\n\r\n\t\t\toThis.getView().unbindObject();\r\n\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\t// The history contains a previous entry\r\n\t\t\t\thistory.go(-1);\r\n\t\t\t} else {\r\n\t\t\t\toThis.getRouter().getTargets().display(\"MSS\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tcheckIfBatchRequestSucceeded: function (oEvent) {\r\n\t\t\tvar oParams = oEvent.getParameters();\r\n\t\t\tvar aRequests = oEvent.getParameters().requests;\r\n\t\t\tvar oRequest;\r\n\t\t\tif (oParams.success) {\r\n\t\t\t\tif (aRequests) {\r\n\t\t\t\t\tfor (var i = 0; i < aRequests.length; i++) {\r\n\t\t\t\t\t\toRequest = oEvent.getParameters().requests[i];\r\n\t\t\t\t\t\tif (!oRequest.success) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n});",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/fragments/newVessel.fragment.xml": "<core:FragmentDefinition xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\" xmlns=\"sap.m\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:f=\"sap.ui.layout.form\">\r\n\t<Dialog id=\"dialogNewVessel\" contentWidth=\"100%\" verticalScrolling=\"true\">\r\n\t\t<content>\r\n\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanXL=\"4\" labelSpanL=\"4\" labelSpanM=\"6\" labelSpanS=\"6\"\r\n\t\t\t\tadjustLabelSpan=\"false\" emptySpanXL=\"2\" emptySpanL=\"2\" emptySpanM=\"2\" emptySpanS=\"0\" columnsXL=\"2\" columnsL=\"2\" columnsM=\"2\">\r\n\t\t\t\t<f:content>\r\n\t\t\t\t\t<l:VerticalLayout id=\"msgNewVessel\" visible=\"false\" class=\"sapUiContentPadding\" width=\"100%\"/>\r\n\t\t\t\t\t<Label text=\"{i18n>Code}\" required=\"true\" labelFor=\"inpVesselCode\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselCode\"  type=\"Text\" maxLength=\"40\" liveChange=\"onLiveVesselCode\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Name}\" required=\"true\" labelFor=\"inpVesselName\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselName\" type=\"Text\" maxLength=\"60\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Priority}\" required=\"true\" labelFor=\"inpPriority\"/>\r\n\t\t\t\t\t<Input id=\"inpPriority\" type=\"Text\" maxLength=\"1\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>ViagemAtual}\" required=\"true\" labelFor=\"inpVesselViagemAtual\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselViagemAtual\" type=\"Number\" maxLength=\"4\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>AnoFab}\" required=\"true\" labelFor=\"dtVesselAnoFab\"/> \r\n\t\t\t\t\t<DatePicker id=\"dtVesselAnoFab\" displayFormat=\"short\" />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>ServicoDesde}\" required=\"true\" labelFor=\"dtVesselIServicoDesde\"/>\r\n\t\t\t\t\t<DatePicker id=\"dtVesselIServicoDesde\" displayFormat=\"short\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Email}\" required=\"false\" labelFor=\"inpVesselEmail\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselEmail\" type=\"Text\" maxLength=\"35\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Fone}\" required=\"false\" labelFor=\"inpVesselFone\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselFone\" type=\"Number\" maxLength=\"15\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Fax}\" required=\"false\" labelFor=\"inpVesselFax\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselFax\" type=\"Number\" maxLength=\"15\" />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>QtdeTanque}\" required=\"true\" labelFor=\"btnVesselQtdeTanque\"/>\r\n\t\t\t\t\t<Button id=\"btnVesselQtdeTanque\" type=\"Emphasized\" text=\"{ path: 'QtdeTanque', formatter: '.formatter.numberInt' }\"\r\n\t\t\t\t\t\tpress=\"openTanksDialog\"/>\r\n\t\t\t\t</f:content>\r\n\t\t\t</f:SimpleForm>\r\n\t\t</content>\r\n\t\t<beginButton>\r\n\t\t\t<Button text=\"{i18n>cancel}\" press=\"onCancelNewVessel\"></Button>\r\n\t\t</beginButton>\r\n\t\t<endButton>\r\n\t\t\t<Button text=\"{i18n>save}\" press=\"onConfirmNewVessel\"></Button>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/fragments/changeTanks.fragment.xml": "<core:FragmentDefinition xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\" xmlns=\"sap.m\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:f=\"sap.ui.layout.form\">\r\n\t<Dialog title=\"{i18n>changeTank}\" contentWidth=\"100%\" verticalScrolling=\"true\">\r\n\t\t<content>\r\n\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanXL=\"4\" labelSpanL=\"4\" labelSpanM=\"6\" labelSpanS=\"6\"\r\n\t\t\t\tadjustLabelSpan=\"false\" emptySpanXL=\"2\" emptySpanL=\"2\" emptySpanM=\"2\" emptySpanS=\"0\" columnsXL=\"2\" columnsL=\"2\" columnsM=\"2\">\r\n\t\t\t\t<f:content>\r\n\t\t\t\t\t<l:VerticalLayout id=\"msgChangeTanks\" visible=\"false\" class=\"sapUiContentPadding\" width=\"100%\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>deleteTank}\" labelFor=\"btnDeleteTank\"/>\r\n\t\t\t\t\t<Button id=\"btnDeleteTank\" icon=\"sap-icon://delete\" press=\"onDeleteTank\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>CodEmbrc}\" required=\"true\" labelFor=\"inpTankCodEmbrc\"/>\r\n\t\t\t\t\t<Input id=\"inpTankCodEmbrc\" editable=\"false\" type=\"Text\" maxLength=\"40\" />\r\n\t\t\t\t\t<Label text=\"{i18n>NomeEmbrc}\" required=\"true\" labelFor=\"inpTankNomeEmbrc\"/>\r\n\t\t\t\t\t<Input id=\"inpTankNomeEmbrc\" editable=\"false\" type=\"Text\" maxLength=\"40\" />\r\n\t\t\t\t\t<Label text=\"{i18n>Hatch}\" required=\"true\" labelFor=\"inpTankHatch\"/>\r\n\t\t\t\t\t<Input id=\"inpTankHatch\" type=\"Text\" maxLength=\"2\" />\r\n\t\t\t\t\t<Label text=\"{i18n>Tanque}\" required=\"true\" labelFor=\"inpTankTanque\"/>\r\n\t\t\t\t\t<Input id=\"inpTankTanque\" type=\"Text\" maxLength=\"60\" />\r\n\t\t\t\t\t<Label text=\"{i18n>Capacidade}\" required=\"false\" labelFor=\"inpTankCapacidade\"/>\r\n\t\t\t\t\t<Input id=\"inpTankCapacidade\" type=\"Number\" maxLength=\"10\" />\r\n\t\t\t\t</f:content>\r\n\t\t\t</f:SimpleForm>\r\n\t\t</content>\r\n\t\t<beginButton>\r\n\t\t\t<Button text=\"{i18n>cancel}\" press=\"onCancelChangeTanks\"></Button>\r\n\t\t</beginButton>\r\n\t\t<endButton>\r\n\t\t\t<Button text=\"{i18n>save}\" press=\"onConfirmChangeTank\"></Button>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/fragments/tanks.fragment.xml": "<core:FragmentDefinition\r\n\txmlns=\"sap.m\"\r\n\txmlns:core=\"sap.ui.core\">\r\n\t<Dialog\r\n\t\tid=\"tanksDialog\"\r\n\t\tshowHeader=\"true\"\r\n\t\tcontentHeight=\"60%\" contentWidth=\"80%\">\r\n\t\t<content>\r\n\t\t\t<Table id=\"tanksTable\" mode=\"{masterView>/tankSelectMode}\" busy=\"{masterView>/busy}\" busyIndicatorDelay=\"{masterView>/delay}\"\r\n\t\t\t\t\tnoDataText=\"{masterView>/noDataText}\" growingScrollToLoad=\"true\" growing=\"true\" growingThreshold=\"20\" inset=\"false\" \r\n\t\t\t\t\titems=\"{}\"\r\n\t\t\t\t\tupdateFinished=\"onUpdateTableTanksFinished\" itemPress=\"onTableItemTanksPressed\">\r\n\t\t\t\t\t<headerToolbar>\r\n\t\t\t\t\t\t<OverflowToolbar>\r\n\t\t\t\t\t\t\t<Title id=\"titleTanksTable\" level=\"H2\"/>\r\n\t\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t</OverflowToolbar>\r\n\t\t\t\t\t</headerToolbar>\r\n\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t<Column hAlign=\"Left\"><Text text=\"{i18n>CodEmbrc}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>Hatch}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>Tanque}\"/></Column>\r\n\t\t\t\t\t\t<Column hAlign=\"Center\"><Text text=\"{i18n>Capacidade}\"/></Column>\r\n\t\t\t\t\t</columns>\r\n\t\t\t\t\t<items>\r\n\t\t\t\t\t\t<ColumnListItem type=\"Active\">\r\n\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t<ObjectIdentifier title=\"{CodEmbrc}\" text=\"{NomeEmbrc}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Hatch}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Tanque}\"/>\r\n\t\t\t\t\t\t\t\t<Text text=\"{Capacidade}\"/>\r\n\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t</items>\r\n\t\t\t\t</Table>\r\n\t\t</content>\r\n\t\t<beginButton>\r\n\t\t\t<Button text=\"{i18n>cancel}\" press=\"onCancelTanks\"/>\r\n\t\t</beginButton>\r\n\t\t<endButton>\r\n\t\t\t<Button visible=\"{masterView>/newTanksVisible}\" text=\"{i18n>NewTank}\" press=\"openNewTanksDialog\"/>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/fragments/newTanks.fragment.xml": "<core:FragmentDefinition xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\" xmlns=\"sap.m\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:f=\"sap.ui.layout.form\">\r\n\t<Dialog contentWidth=\"100%\" verticalScrolling=\"true\">\r\n\t\t<content>\r\n\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanXL=\"4\" labelSpanL=\"4\" labelSpanM=\"6\" labelSpanS=\"6\"\r\n\t\t\t\tadjustLabelSpan=\"false\" emptySpanXL=\"2\" emptySpanL=\"2\" emptySpanM=\"2\" emptySpanS=\"0\" columnsXL=\"2\" columnsL=\"2\" columnsM=\"2\">\r\n\t\t\t\t<f:content>\r\n\t\t\t\t\t<l:VerticalLayout id=\"msgNewTanks\" visible=\"false\" class=\"sapUiContentPadding\" width=\"100%\"/>\r\n\t\t\t\t\t<Label text=\"{i18n>CodEmbrc}\" required=\"true\" labelFor=\"inpTankCodEmbrc\"/>\r\n\t\t\t\t\t<Input id=\"inpTankCodEmbrc\" editable=\"false\" type=\"Text\" maxLength=\"40\"/>\r\n\t\t\t\t\t<Label text=\"{i18n>NomeEmbrc}\" required=\"true\" labelFor=\"inpTankNomeEmbrc\"/>\r\n\t\t\t\t\t<Input id=\"inpTankNomeEmbrc\" editable=\"false\" type=\"Text\" maxLength=\"40\"/>\r\n\t\t\t\t\t<Label text=\"{i18n>Hatch}\" required=\"true\" labelFor=\"inpTankHatch\"/>\r\n\t\t\t\t\t<Input id=\"inpTankHatch\" type=\"Text\" maxLength=\"2\"/>\r\n\t\t\t\t\t<Label text=\"{i18n>Tanque}\" required=\"true\" labelFor=\"inpTankTanque\"/>\r\n\t\t\t\t\t<Input id=\"inpTankTanque\" type=\"Text\" maxLength=\"60\"/>\r\n\t\t\t\t\t<Label text=\"{i18n>Capacidade}\" required=\"false\" labelFor=\"inpTankCapacidade\"/>\r\n\t\t\t\t\t<Input id=\"inpTankCapacidade\" type=\"Number\" maxLength=\"10\"/>\r\n\t\t\t\t</f:content>\r\n\t\t\t</f:SimpleForm>\r\n\t\t</content>\r\n\t\t<beginButton>\r\n\t\t\t<Button text=\"{i18n>cancel}\" press=\"onCancelNewTanks\"></Button>\r\n\t\t</beginButton>\r\n\t\t<endButton>\r\n\t\t\t<Button text=\"{i18n>save}\" press=\"onConfirmNewTank\"></Button>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"br/citrosuco/tm/ZUI5_TM_VESSEL/fragments/changeVessel.fragment.xml": "<core:FragmentDefinition xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\" xmlns=\"sap.m\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:f=\"sap.ui.layout.form\">\r\n\t<Dialog contentWidth=\"100%\" verticalScrolling=\"true\">\r\n\t\t<content>\r\n\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" labelSpanXL=\"4\" labelSpanL=\"4\" labelSpanM=\"6\" labelSpanS=\"6\"\r\n\t\t\t\tadjustLabelSpan=\"false\" emptySpanXL=\"2\" emptySpanL=\"2\" emptySpanM=\"2\" emptySpanS=\"0\" columnsXL=\"2\" columnsL=\"2\" columnsM=\"2\">\r\n\t\t\t\t<f:content>\r\n\t\t\t\t\t<l:VerticalLayout id=\"msgChangeVessel\" visible=\"false\" class=\"sapUiContentPadding\" width=\"100%\"/>\r\n\t\t\t\t\t<Label text=\"{i18n>Lockunlock}\" labelFor=\"btnLockUnlock\"/>\r\n\t\t\t\t\t<Button id=\"btnLockUnlock\" icon=\"{ path: 'BlockRec', formatter: '.formatter.lockUnlockIcon' }\"\r\n\t\t\t\t\t\ttype=\"{ path: 'BlockRec', formatter: '.formatter.lockUnlockColor' }\" tooltip=\"{ path: 'BlockRec', formatter: '.formatter.lockUnlockTip' }\"\r\n\t\t\t\t\t\tpress=\"onLockUnlock\"/>\r\n\t\t\t\t\t<Label text=\"{i18n>Code}\" required=\"true\" labelFor=\"inpVesselCode\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselCode\" editable=\"{= ${Code} === true}\" type=\"Text\" maxLength=\"40\" value=\"{CodEmbrc}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Name}\" required=\"true\" labelFor=\"inpVesselName\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselName\" type=\"Text\" maxLength=\"60\" value=\"{NomeEmbrc}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Priority}\" required=\"true\" labelFor=\"inpPriority\"/>\r\n\t\t\t\t\t<Input id=\"inpPriority\" type=\"Text\" maxLength=\"1\" value=\"{Priority}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>ViagemAtual}\" required=\"true\" labelFor=\"inpVesselViagemAtual\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselViagemAtual\" type=\"Number\" maxLength=\"4\" value=\"{Viagem}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>AnoFab}\" required=\"true\" labelFor=\"dtVesselAnoFab\"/>\r\n\t\t\t\t\t<DatePicker id=\"dtVesselAnoFab\" displayFormat=\"short\" dateValue=\"{BUILT}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>ServicoDesde}\" required=\"true\" labelFor=\"dtVesselIServicoDesde\"/>\r\n\t\t\t\t\t<DatePicker id=\"dtVesselIServicoDesde\" displayFormat=\"short\" dateValue=\"{DtInicoprac}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Email}\" required=\"false\" labelFor=\"inpVesselEmail\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselEmail\" type=\"Text\" maxLength=\"35\" value=\"{EmailEmbrc}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Fone}\" required=\"false\" labelFor=\"inpVesselFone\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselFone\" type=\"Number\" maxLength=\"15\" value=\"{Fone1Embrc}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>Fax}\" required=\"false\" labelFor=\"inpVesselFax\"/>\r\n\t\t\t\t\t<Input id=\"inpVesselFax\" type=\"Number\" maxLength=\"15\" value=\"{FaxEmbrc}\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Label text=\"{i18n>QtdeTanque}\" required=\"true\" labelFor=\"btnVesselQtdeTanque\"/>\r\n\t\t\t\t\t<Button id=\"btnVesselQtdeTanque\" type=\"Emphasized\" text=\"{ path: 'QtdeTanque', formatter: '.formatter.numberInt' }\"\r\n\t\t\t\t\t\tpress=\"openTanksDialog\"/>\r\n\t\t\t\t</f:content>\r\n\t\t\t</f:SimpleForm>\r\n\t\t</content>\r\n\t\t<beginButton>\r\n\t\t\t<Button text=\"{i18n>cancel}\" press=\"onCancelChangeVessel\"></Button>\r\n\t\t</beginButton>\r\n\t\t<endButton>\r\n\t\t\t<Button text=\"{i18n>save}\" press=\"onConfirmChangeVessel\"></Button>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>"
	}
});